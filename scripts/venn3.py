"""This script generates a Venn diagram for three sets.
"""

import json
import math

t224 = """道行般若經,智度,萬聖,真如,法性,無名,證,法,定,諸法,第一義,權便,一切智,八地,智,三脫,四非,觀,佛,泥洹,道行品,無生,空,戒,摩訶般若波羅蜜,比丘僧,菩薩,摩訶薩,彌勒菩薩,文殊師利菩薩,說戒,威神,善男子、善女人,空身慧,阿惟越致,阿羅漢,辟支佛,薩芸若,五陰,六衰,魔,摩訶僧那僧涅,摩訶衍三拔致,阿僧祇,幻,無著無縛無脫,摩訶衍,三昧,須陀洹,斯陀含,阿那含,色,無常,我所非我所,禪,閱叉,忉利天上,法寶,波羅蜜,十種力,四無所畏,佛十八事,劫
道行般若經,智度,萬聖,真如,法性,無名,證,法,定,諸法,第一義,權便,一切智,八地,智,三脫,四非,觀,佛,泥洹,道行品,無生,空,戒,摩訶般若波羅蜜,比丘僧,菩薩,摩訶薩,彌勒菩薩,文殊師利菩薩,說戒,威神,善男子、善女人,空身慧,阿惟越致,阿羅漢,辟支佛,薩芸若,五陰,六衰,魔,摩訶僧那僧涅,摩訶衍三拔致,阿僧祇,幻,無著無縛無脫,摩訶衍,三昧,須陀洹,斯陀含,阿那含,色,無常,我所非我所,禪,閱叉,忉利天上,法寶,波羅蜜,十種力,四無所畏,佛十八事,劫
道行般若經,三藏,摩訶般若波羅蜜,功德品,因坻天,梵天,波那和提天,伊沙天,那提乾天,賢者,須菩提,怛薩阿竭,諷誦,行者,恭敬,菩薩摩訶薩,般若波羅蜜,佛,提和竭羅佛,受決,佛智慧,阿僧祇劫,釋迦文,天上天下於中最尊,世間法,薩芸若,比丘,比丘尼,優婆塞,優婆夷,四部,欲天,阿會亘修天,釋提桓因,善男子,善女人,魔,魔天,拘翼,忉利天,佛道,空閑處,梵摩三鉢天,六波羅蜜,受教,佛威神,般若波羅蜜威神,四天王,甘露,瞋恚,自貢高,祝,十誡功德,四禪,四諦,四神足,般遮旬,漚惒拘舍羅,至德悉具足,禪,鬼神,法輪,辟支佛,阿耨多羅三耶三佛,恒邊沙佛國,阿惟越致,閻浮利,須陀洹,斯陀含,阿那含,阿羅漢,法德,法師,舍利,摩尼珠,檀波羅蜜,尸波羅蜜,羼提波羅蜜,惟逮波羅蜜,禪波羅蜜,智慧,惡知識,色無常,行色無常,痛痒思想生死識學無常,宿命之罪,阿須倫,閱叉鬼神,迦樓羅鬼神,甄陀羅鬼神,乾陀羅鬼神,摩睺勒鬼神,兜術陀天,尼摩羅提羅憐耨天,波羅尼蜜和邪拔致天,梵迦夷天,梵弗還天,梵波盍天,摩呵梵天盧天,波利陀天,盍波摩那天,阿波摩修天,修乾天,惟呵天,波栗惟呵天,阿波修天,惟于潘天,阿惟潘天,阿陀波天,須帶天,須帶祇耨天,阿迦貳吒天,色天人,聞法,信佛,信法,信比丘僧,佛國,菩薩,佛座
摩訶般若波羅蜜, 漚惒拘舍羅, 彌勒菩薩, 須菩提, 菩薩摩訶薩, 布施, 持戒, 阿僧祇, 剎土, 般泥洹, 發意, 阿耨多羅三耶三菩, 阿惟三佛, 無餘泥洹界, 法盡, 聲聞, 淨戒身, 三昧身, 智慧身, 已脫身, 脫慧所現身, 佛法, 天中天, 四顛倒, 無常, 有常, 苦, 有樂, 空, 有實, 無身, 有身, 阿惟越致, 薩芸若, 釋提桓因, 魔事, 龍, 閱叉, 健陀羅, 阿須倫, 迦樓羅, 甄陀羅, 摩睺勒, 非人, 勸助, 怛薩阿竭, 阿羅訶, 三耶三佛, 欲界, 色界, 無欲無色界, 恒邊沙佛剎, 劫, 四王天, 忉利天, 炎天, 兜術天, 尼摩羅提天, 波羅蜜尼和耶拔致天, 梵天, 梵迦夷天, 梵富樓天, 梵波利產天, 摩訶梵天, [病-丙+盍]天, 波利陀天, [病-丙+盍]波摩那天, 阿會亘修天, 首訶天, 波利首訶天, 訶波摩首訶天, 首訶迦天, 比伊潘羅天, 阿比耶陀天, 須陀施尼天, 阿迦貳吒天, 首陀衛諸天人, 忍辱, 精進, 一心, 脫慧, 比丘, 舍利弗, 般若波羅蜜, 冥, 十二法輪, 生死, 歸, 拘翼, 五波羅蜜, 色, 痛痒, 思想, 生死識, 五陰, 須陀洹道, 斯陀含, 阿那含, 阿羅漢, 辟支佛, 佛道, 摩訶波羅蜜, 十種力, 清淨戒, 誹謗法, 大泥犁, 五逆惡, 諷誦, 沙門, 比丘僧, 魔所中, 無著, 無縛, 無脫, 道, 寂靜, 威神, 釋梵, 尊天, 遶, 三匝, 釋迦文, 善哉, 供養, 身口意, 本際, 執著
道行般若經,菩薩摩訶薩,阿耨多羅三耶三菩,阿惟三佛,般若波羅蜜,須菩提,彌勒菩薩,佛,色,痛痒思想生死識,清淨,天中天,空,瑕穢,法師,功德,法,三千大千剎土,諸天子,閻浮利,法輪,摩訶波羅蜜,無所罣礙法,泥洹,無極波羅蜜,一等波羅蜜,二恍忽波羅蜜,三無上波羅蜜,四無人波羅蜜,五無所去波羅蜜,六無所有波羅蜜,七無有盡波羅蜜,八無所從生波羅蜜,九無作波羅蜜,十不知波羅蜜,十一無所至波羅蜜,十二無垢波羅蜜,十三無著波羅蜜,十四夢波羅蜜,十五清淨波羅蜜,十六不可見波羅蜜,十七定波羅蜜,十八無念波羅蜜,十九不動搖波羅蜜,二十無欲波羅蜜,二十一無所生波羅蜜,二十二寂波羅蜜,二十三無恚波羅蜜,二十四無人波羅蜜,二十五不觀波羅蜜,二十六不至邊波羅蜜,二十七不腐波羅蜜,二十八無不入波羅蜜,羅漢,辟支佛,二十九不亂波羅蜜,三十不可量波羅蜜,三十一無形波羅蜜,三十二不可得波羅蜜,三十三無常波羅蜜,三十四無苦波羅蜜,三十五無我波羅蜜,三十六空波羅蜜,三十七無有想波羅蜜,三十八力波羅蜜,三十九不可計佛法波羅蜜,四十自然波羅蜜,釋提桓因,過去佛,諷誦,善男子,善女人,供養,阿惟越致,精進,薩芸若慧,拘翼,怛薩阿竭,阿羅呵,薩芸若,淨戒,度脫,魔,留難,泥犁,禽獸,薜荔,生死根,須陀洹,斯陀含,阿那含,阿羅漢道,禪,色天,無色之天,漚惒拘舍羅,聲聞,辟支佛道地,摩訶衍,六波羅蜜,佛眼,南天竺,西天竺,北天竺,衍,護佛,佛剎,過去、當來、今現在法
般若波羅蜜,佛,魔,因緣,須菩提,天中天,菩薩,大法,發意,善男子,善女人,佛威神,弊魔,怛薩阿竭,阿羅呵,三耶三佛,成佛,阿惟三佛,十方,薩芸若,五陰,空,無想,無願,愛欲心,瞋恚心,愚癡心,無餘,本淨,色,痛痒思想生死識,識,我,本無,須陀洹道,斯陀含道,阿那含道,阿羅漢道,辟支佛道,阿耨多羅三耶三佛,如來,阿惟越致,釋提桓因,欲萬天子,梵迦夷天,佛足,相,無所有,無所住,阿須倫,龍,鬼神,人若非人,無所罣礙慧,佛之藏,報恩,衍,諸法,寂,淨,究竟,無師薩芸若,不可計,不可量,無邊,無念,比丘僧,比丘尼,優婆塞,優婆夷,無所從生法樂,婆羅劫,受決,遮迦越王,功德,三千大千國土,劫,繞三匝,經師,人道,佛剎,供養佛,兜術天,彌勒菩薩,信樂,定行,精進,漚惒拘舍羅,佛門,阿闍浮菩薩,善知識,布施,持戒,忍辱,禪,智慧,謙苦,生老病死,無著,無縛,定,甘露,泥洹,過去、當來、今現在,如夢,如幻,阿僧祇,摩訶僧那僧涅,般泥洹,僧那僧涅,三處,餘道,檀波羅蜜,尸波羅蜜,羼提波羅蜜,惟逮波羅蜜,禪波羅蜜,空慧,無所從生,地為六反震動,舍利弗,忉利天,閻浮利地,無色,恒中沙劫,佛道,三昧,恒沙菩薩,三有德之人,一道,分漫陀尼弗,三道,善心,慈心
阿那含,阿難,阿耨多羅三耶三菩,阿羅漢,阿惟越致,阿惟越致地,阿閦佛,阿僧祇,本無,般泥洹,般若波羅蜜,比丘,辟支佛,辟支佛地,布施,菩薩,佛,佛剎,佛地,佛門,供養,功德,怛薩阿竭,檀波羅蜜,道行,發意,發心,劫,慳貪,空,羅漢,魔,魔官屬,摩訶般若波羅蜜,彌勒菩薩,泥犁,泥洹,念,忍辱,薩芸若,沙門,色處,色痛痒思想生死識,善知識,舍利弗,生死,深經,尸波羅蜜,十戒,受決,斯陀含,須菩提,須陀洹,思惟,三昧,三昧門,提和竭羅佛,威神力,無相,無想,無常,無願,無所有,妄消去,惟逮波羅蜜,智慧,諸法,中國,中正,禪波羅蜜,禪者,證,遮迦越王,心清淨,星宿劫,有著者,優婆夷,欲處,自在,羼提波羅蜜
道行,般若經,三藏,摩訶般若波羅蜜,守空品,菩薩,般若波羅蜜,空,守空三昧,色,痛痒,思想,識,觀,法,作證,三昧,念空,功德,智慧力,薩和薩,慈哀,阿羅漢地,辟支佛地,泥洹門,漚惒拘舍羅,阿耨多羅三耶三菩,佛,無相三昧,無願三昧,因緣想,常無常,苦,非身,無所從生,阿惟越致,菩薩道,阿須倫,龍,鬼神,摩訶薩,比丘,怛薩阿竭,阿羅呵,三耶三佛,宿命,魔,威神,貢高,瞋恚,薩芸若,善知識,惡知識,羅網,重禁,沙門,佛子,五逆惡,波羅蜜,舍怛羅,道,度,自歸,等與,根,罣礙,虛空,著,無可取,等行,禪悅,定,慈,剎土,摩尼珠,七寶,無為,四事,天中天,生死
阿那含, 阿難, 阿耨多羅三耶三菩, 阿惟越致, 阿迦膩吒, 阿羅漢, 阿羅漢果, 阿羅漢道人, 阿須倫, 阿閦佛, 阿會亘彼立, 阿會波羅, 阿波摩那, 愛欲諸天, 般泥洹, 般若波羅蜜, 波羅劫, 波羅蜜, 辟支佛, 本淨, 本無, 本願, 比丘, 比丘僧, 邊地, 佛, 佛界, 佛坐, 佛樹下坐, 佛智慧, 佛境界, 梵天, 卜問, 瞋恚, 慈哀, 功德, 甘露法門, 地, 等心, 度滅, 發意, 法, 法鎧, 法舍, 狐疑, 恒邊沙, 幻, 懷恨, 毀誡, 化幻, 漚惒拘舍羅, 漚辰那拘尼摩, 慳貪, 拘翼, 經, 懈, 力, 羅麟那杖那佛, 摩訶般若波羅蜜, 摩尼珠, 魔, 迷亂, 滅, 泥犁, 淨力, 菩薩摩訶薩, 菩薩道, 禽獸, 薩芸若, 三藏, 三千大千國土, 三耶三佛, 色, 舍利弗, 禪波羅蜜, 識, 尸波羅蜜, 釋提桓因, 十戒, 十種力, 四部弟子, 四天王, 四天下, 四無所畏, 斯陀含, 思想, 師子獨鳴, 須菩提, 須陀洹, 須彌山, 怛薩阿竭, 檀波羅蜜, 忉利天, 痛痒, 惟逮波羅蜜, 無常, 無所生, 無所得, 無所畏, 無所著, 無所有, 虛空, 薜荔, 閻浮利, 淫, 愚癡, 憎, 證, 精進, 遮迦越羅, 善師, 羼提波羅蜜
道行,般若經,三藏,摩訶般若波羅蜜,品,佛,阿難,菩薩,薩芸若,般若波羅蜜,人道,兜術天,般泥洹,羅漢,辟支佛,功德,摩訶薩,摩訶漚惒拘舍羅,比丘僧,佛恩,供養,教法,法,六波羅蜜,菩薩摩訶薩母,阿羅漢道,天中天,阿惟越致,四部弟子,天,阿須倫,鬼神,釋迦文佛,阿閦佛,空,幻師,十方,剎土,罣礙,智慧法,虛空,須菩提,五陰,色,痛痒,思想,生死識,十二因緣,不共法,佛道,魔,龍,非人,檀波羅蜜,尸波羅蜜,羼提波羅蜜,惟逮波羅蜜,禪波羅蜜,漚惒拘舍羅波羅蜜,魔事,阿僧祇,恒邊沙劫,三惡道,揵陀訶盡菩薩,四大,發心,願,四事不護,甄陀羅,摩睺勒,須彌山,釋梵,野馬,佛身相,生死根,覺禪,禪,三昧,定,愛欲,泥洹,薩陀波倫菩薩,佛國,曇無竭阿祝竭羅佛,忉利天,天人,善男子,三十二相,八十種好,法輪,轉,方便,眼,耳,鼻,身,心意,地水火風,有空,無空,釋提桓因,十種力,四無所畏,十八事不共,犍陀越國,幢幡,文陀羅華,摩訶文陀羅華,曇無竭菩薩,六萬三昧門,無處所三昧,無恐懼衣毛不起三昧,脫諸魔中不恐懼三昧,脫於愛欲之本三昧,脫出格戰離患三昧,不可計向入三昧,大海水不可量多慧所入三昧,在須彌山功德莊飾三昧,五陰六衰無形觀三昧,入諸佛界三昧,悉見諸佛三昧,菩薩守道三昧,諸經法本無形見說三昧,珍寶莊飾三昧,悉學珍寶入三昧,悉念諸佛三昧,菩薩上高三昧,真阿惟越致及法輪為轉三昧,莊佛功德三昧,無瑕穢悉及淨三昧,所聞眾事如大海三昧,無所護無有過三昧,樂經音聲遍三昧,經法章顯其幡三昧,怛薩阿竭身無形入三昧,怛薩阿竭,諸經法無形遍視三昧,菩薩印三昧,怛薩阿竭目見三昧,照明諸境界佛界所願具足三昧,解十方人難三昧,臨成佛莊嚴三昧,種種雜華異色三昧,多珍寶三昧,法輪常轉三昧,諸音聲遠聞入要三昧,入十方人本三昧,諸三界悉遍至三昧,成諸功德三昧,無有能過六波羅蜜三昧,外道,羅網,怛薩阿竭現飛三昧,不可復計功德度莊嚴三昧,諸珍寶智慧功德三昧,薩芸若地三昧,悉淨因三昧,悉遍照三昧,悉入十方人生死之根智慧出中三昧,過去當來今現在悉等三昧,經
三藏,菩薩,般若波羅蜜,三昧,經法,弊魔,佛道,精進,度脫,釋提桓因,供養,遶三匝,怛薩阿竭,阿羅漢,泥洹,空,無所生,般泥洹,須彌山,佛,識,地,水,火,風,色,痛痒,思想,生死,欲,無想,願,無願,阿須倫,龍,鬼神,揵陀羅,迦留勒,甄陀羅,摩睺勒,羅剎,鳩垣,薜荔,泥犁,須陀洹,斯陀含,阿那含,辟支佛,四意止,四意斷,五根,五力,七覺意,八道,十種力,四無所畏,佛經,宿命,展轉生死,阿惟越致,三昧門,願樂三昧,威儀三昧,勸德三昧,月盛滿三昧,日光焰三昧,怛薩阿竭行三昧,悉念佛三昧,菩薩所生三昧,樂智慧三昧,度脫堅住三昧,諸境界中無所住三昧,國土種種嚴入三昧,怛薩阿竭相無相入三昧,十方人無形印封三昧,怛薩阿竭出坐三昧,無所畏樂三昧,棄捐珍寶三昧,怛薩阿竭力莊嚴三昧,諸經法悉明樂三昧,說無所從來解事三昧,淨如梵人三昧,過去、當來、今現在悉等入三昧,本端當來端無所住三昧,莊嚴佛藏三昧,佛音聲響悉成三昧,因緣,菩薩行,佛身,六波羅蜜行,曉知本無,降伏於魔,梵人,阿迦膩吒天上,八惡處,禪三昧,婬怒癡,佛境界,陀隣尼法,威神,囑累,經藏,佛天中天,阿耨多羅三耶三菩,阿惟三佛慧,耆闍崛山,羅閱祇,文陀羅華,曼殊顏華,摩訶曼殊顏華,道行般若經,摩訶
"""
t225 = """佛,比丘,菩薩,大士,居士,賢者,經,法,空,不願,無想,寂定,漏盡,結解,得道,泥曰,如來,五陰,六衰,十二緣起,不退轉,弟子地,緣一覺地,佛地,善權,十力,無畏,佛十八不絕之法,相好,佛剎,智慧,想行,識,一切智,凡愚,兩際,諦法,名色,六根,三界,惡友,善友,弘誓,鎧,沙門,六十二見,潤,無漏,幻師,幻弟子,幻,無央數,三塗,大乘,開士,正覺,都講,族姓子,證,休止,無礙,明度,無極,大道,痛想行識,自然
佛,如來,天帝釋,天子,四天王,梵眾天,梵輔天,大梵天,善業,智度無極,闓士大士,闓士道,溝港,頻來,不還,應儀,緣一覺,生死道,功德,無所著,正真道,最正覺,弟子,妙行,空法,五陰,無常,滅度,秋露子,法身,空,幻人,泥洹,無所有,不退轉闓士大士,比丘,忉利天上,忉利,甚深微妙,不諍,一切智,身行,恒沙劫,淨,名非名,能儒如來,三界,天中天,除饉眾,除饉女,清信士,清信女,愛欲天,梵天,無結愛天,佛道,六度,布施,持戒,忍辱,精進,棄定,禪定,智者,神丹,威神力,瞋恚貢高,慈,佛智,呪,四棄,拔苦四事,五通,異道人,弊邪,四部弟子,忉利迦翼天子,阿難,佛剎,舍利,塔,自歸,供養,閻浮提,比丘僧,不退轉地,七寶,妓樂,三千大千國土,淨定,十二經,權德,邪毒水火兵刃王法,普慈等濟恕惠群生潤功無量,四等心,鬼神,龍,質諒神,執樂神,胸臆行神,似人形神,問訊,繞,鹽天,兜術天,不驕樂天,化應聲天,水行天,水微天,無量水天,水音天,約淨天,遍淨天,淨明天,守妙天,玄妙天,福德天,德純天,近際天,快見天,無色天子,經輪,極過度,慈氏,代歡喜,分德法,德被無表,無上正真道最正覺,定身,慧身,無所罣礙身,度知見身,大慈,末智,惡友,四顛倒,新學士女,善友,一心,身識,雜毒病,戒身,解脫身,佛緣一覺,無欲處,無色處,無空處,無取無放,無想無見,心往來法,三世佛,滿祝子,大明,智慧,明度無極
佛,明度,天中天,自歸,地獄,居士,比丘,布施,持戒,忍辱,精進,禪定,五度,一切知,五陰,無生無滅,無所逮法,空,三塗,五逆,十二部經,沙門,邪,深經,清淨,無上正真道,著,無著,虛空,法,大慈,佛剎,經戒,受決,平等最正覺,大千,帝釋,梵,四天王,慈氏,平等覺,天子,經輪轉,罣礙,滅度,比丘僧,恒沙劫,本空,無上正真道者,本清淨,心,愛欲,瞋恚,愚癡,世間,諸法,無相,無願,無所住,無作,報經恩,溝港,頻來,不還,應儀,緣一覺,闓士,大士,正真道,最正覺,如來,無極,世尊,六度,智慧
明度,居士,不可計,本無,不退轉,清信女,守空,佛,如來,一切智,五陰,諸法,比丘,比丘尼,闓士,無所從生法樂,賢劫,受決,緣一覺道,溝港,頻來,不還,應儀,天中天,天子,三千國土,功德,過去佛,經師,人道,兜術天上,慈氏,變謀明慧,無上正真道,權慧,佛門,善友,布施,持戒,忍辱,精進,棄定,智慧,生死,最正覺,泥洹,如夢如幻,盟誓,三處,凡夫,十戒,觀視,六度,世間,虛空慧,秋露子,諸天人,供養,無色,無願,恒沙劫,色定,佛道,平等最正覺,戒定慧,法,覺,慈心,瞋恚,禪,地,沙門,梵志,惡處,殺,盜,婬,兩舌,惡口,妄言,綺語,嫉妬,恚,癡,群生,分德,淨定,八大地獄,邪,佛剎,三寶,八正談,疑,須彌,欲處,色處,空處,無佛處,性淨,三毒,定光佛,釋迦文,阿難,金輪聖王,忉利天上,空定,滅度門,弘慈,苦空,無想定,無願定,無央數,質諒神
佛, 闓士, 明度無極, 應儀, 緣一覺, 諸法, 不退轉, 除饉, 空, 邪, 兩道, 善友, 無上正真道最正覺, 三尊, 六度無極, 布施, 勸樂, 饒益, 等與, 如來, 佛剎, 一切智, 四事護眾生, 五陰, 淨定, 慈, 道眼, 普慈, 十種力, 四無所畏, 佛法, 慈悲喜護, 十二法輪, 甘露法門, 十戒, 婬妷, 禪, 無所得, 泥洹, 比丘, 天帝釋, 三界, 頻來, 不還, 精進, 禪度無極, 變謀明慧, 四天王, 三千國土, 中道取證, 地獄, 禽獸, 餓鬼, 劫, 無常, 滅度, 佛道, 淨力, 無所畏力, 佛法淨力, 初發意, 慳貪, 毀戒, 一心, 佛之境界, 師子獨步, 佛處, 生死之苦, 眾生, 未度者, 未滅度者, 補處, 五逆, 沙門, 佛子, 兜術天, 幻, 本無, 天人, 鬼神王, 僧, 恒沙佛剎, 深經, 天上, 十方, 四部弟子, 威神, 虛空, 十二因緣, 四大, 五根, 五力, 七覺意, 棄脫定, 諸欲, 貢高, 諛諂, 強梁, 非法, 佛業, 囑累, 三世, 功德, 慈心, 覺, 道, 經法, 法門, 界
大明度經,居士,闓士,囑累,阿難,佛,佛國,香積,明度,無極,積行功德,本願,無央數佛,大法,滅度,比丘僧,求道,捐家,惡所致,佛功德身,三十二相,八十種好,十方,婬怒癡,五陰,地水火風空,眾生,吾我,有空無空,善惡,化佛,叉手,說法,諸經法,本無,虛空無形,如幻如水中影如夢中所見,佛音聲,法王,七寶,幢幡,花蓋,忉利天帝釋殿,難檀洹戲廬,成就者,發意者,眾聖中王,玉女,高座,供養,一切智,十種力,四無所畏,四事不護,十八不共,邪,帝釋,梵志,轉度,自歸,空,不願,無想,深法,定門,五陰四大六衰無形觀定,一切智地定,不退轉,阿闍浮住法,一佛界,佛剎,授決,如來,無所著,正真道,最正覺,慧眼,親近,佛藏,佛滅度後,闓士大士,生死牢獄,無智者,癡所繫著,邪官屬,無上正真道,無目者,愚癡者,正法,大道,應儀道,袈裟,摩頭,王舍鷄山,眾弟子,諸天,質諒神,龍,鬼王
"""
t227 = """般若波羅蜜經, 菩薩, 成佛, 弘軌, 道場, 正覺, 異教, 三撫, 功德, 九增, 問相, 幻品, 道行, 難問, 隨喜, 照明, 無生, 補處, 一切智, 法華, 權應, 實化, 方便, 摩訶般若波羅蜜經, 初品, 如是我聞, 佛, 比丘僧, 阿羅漢, 諸漏已盡, 所作已辦, 捨於重擔, 逮得己利, 盡諸有結, 正智解脫, 心得自在, 諸法相, 世尊, 菩薩心, 非心, 心相本淨, 聲聞地, 辟支佛地, 菩薩地, 菩薩法, 不退轉地, 無所住, 色, 受, 想, 行, 識, 作法, 薩婆若, 三昧, 實相, 解脫, 涅槃, 佛十力, 四無所畏, 十八不共法, 般涅槃, 色性, 識性, 一切法無生無成就, 阿耨多羅三藐三菩提, 無諍三昧, 凡夫, 無明, 二邊, 名色, 幻人, 五受陰, 六情, 新發意菩薩, 惡知識, 菩提, 取相分別, 善知識, 大乘, 菩薩摩訶薩, 我見, 眾生見, 壽者見, 人見, 有見, 無見, 斷見, 常見, 莊嚴, 無縛無解, 三界, 摩訶衍, 天, 人, 阿修羅, 虛空, 前際, 中際, 後際, 三世, 過去世, 未來世, 現在世, 名字, 我法, 畢竟不生, 無二無別, 難行, 苦惱, 苦行想, 易想, 樂想, 父母想, 子想, 我所想, 忍, 須陀洹果, 斯陀含果, 阿那含果, 阿羅漢果, 辟支佛道, 佛法, 幻如夢, 阿毘跋致菩薩, 正見, 滿願阿羅漢, 法雨, 忉利天, 假名, 無為性, 有為性, 夜叉眾, 須陀洹, 斯陀含, 阿那含, 辟支佛, 無為果, 福田, 生死, 一來, 盡苦, 彼間滅度, 今世入無餘涅槃, 過聲聞地不及佛地而般涅槃, 波羅蜜, 恒河沙劫, 清淨
阿那含,阿毘跋致地,阿僧祇劫,阿難,阿羅漢,阿羅漢眾,阿修羅,阿耨多羅三藐三菩提,阿耨多羅三藐三菩提心,般若波羅蜜,般若波羅蜜經,布施,菩薩,菩薩道,菩薩摩訶薩,辟支佛,比丘,比丘尼,遍淨天,梵輔天,梵天,梵天王,梵眾天,梵世天,大梵天,大師,大法,檀波羅蜜,道場,得道,忉利諸天,調御丈夫,兜率陀天,佛,法,法師,福德,福生天,乾闥婆,功德,光音天,光天,廣果天,迦樓羅,化樂天,恒河沙,行,護世四天王,迴向,記者,緊那羅,經卷,憍尸迦,劫,龍,摩睺羅伽,摩訶,魔,魔天,滅度,明行足,明呪,妙見天,非人,忍辱,淨佛世界,淨天,薩婆若,薩婆若智,三昧,三藏,三千大千世界,沙門,善見天,善逝,舍利,舍利弗,少光天,少淨天,僧,世尊,尸羅波羅蜜,釋迦牟尼,釋提桓因,釋子,十善道,十方,斯陀含,須菩提,須陀洹,塔,塔廟,他化自在天,天人師,天子,智慧,持戒,瞋恚,出家,畜生,無等等呪,無廣天,無熱天,無上士,無上呪,無量光天,無量淨天,無陰行天,無小天,五神通,五波羅蜜,六波羅蜜,小千世界,小鬼,優婆塞,優婆夷,閻浮提,夜叉,夜摩天,業行,瓔珞,欲色界,禪定,禪波羅蜜,正遍知,正念,精進,諸法,眾生,呪術,中世界,幢幡,坐禪,四眾,四禪,四無量心,四無色定,四天王,七寶,四天下,婆羅門,燃燈佛,如來,不壞信,因緣,毘梨耶波羅蜜,人身,世間解,我慢
小品般若波羅蜜經,般若波羅蜜,三藏,鳩摩羅什,佛,釋提桓因,憍尸迦,善男子、善女人,閻浮提,十善道,世尊,經卷,眾生,四天下,小千世界,中世界,三千大千世界,十方,恒河沙,福,四禪,四無量心,四無色定,五神通,阿耨多羅三藐三菩提,比丘,色,無常,受,想,行,識,行般若波羅蜜,菩薩,須陀洹果,功德,斯陀含果,阿那含果,阿羅漢果,辟支佛道,薩婆若,法,發阿耨多羅三藐三菩提心,阿毘跋致菩薩,供養,須菩提,聖弟子,六波羅蜜,摩訶般若波羅蜜,迴向,彌勒菩薩,菩薩摩訶薩,隨喜,布施,持戒,修禪,阿僧祇世界,滅度,入無餘涅槃,法欲滅,善根,聲聞弟子,學無學,無漏福德,戒品,定品,慧品,解脫品,解脫知見品,大慈大悲,佛法,取相,想顛倒,見顛倒,心顛倒,苦,樂,不淨,無我,菩提,新發意菩薩,善知識,戲論,有結,正智解脫,凡夫人,畜生,天,龍,夜叉,乾闥婆,阿修羅,迦樓羅,緊那羅,摩睺羅伽,人非人,無上迴向,離相,無相,方便,有所得,雜毒,辟支佛記,授記,法寶,欲界,色界,無色界,邪迴向,三世諸佛,佛事,慈悲喜捨心,劫,四天王天,天子,合掌,禮佛,忉利天,天花,幢幡,夜摩天,兜率陀天,化樂天,他化自在天,梵世諸天子,梵輔天,梵眾天,大梵天,光天,少光天,無量光天,光音天,淨天,少淨天,無量淨天,遍淨天,無雲行天,福生天,廣果天,無廣天,無熱天,妙見天,善見天,無小天,佛道,淨居諸天子,諸法,實相,生滅,忍辱,精進,禪定,智慧,解脫,解脫知見,信解,不繫不縛,不解不脫,不生不滅,泥犁,照明,闇冥,染污,邪行者,正道,菩薩母,法輪,三轉十二相法輪,生死,法性,五波羅蜜,空無所有,佛十力,四無所畏,度眾生,無性,不可思議,如來,佛土,梵行,無智業,破法,重罪業,大地獄,火劫,惡口業,五逆罪,出家,污法,明戒,身業,意業,僧寶,三寶,魔,惡知識,貪著,真性,甚深,果淨,無二無別,無異無壞
小品般若波羅蜜經, 品, 三藏, 舍利弗, 淨, 欲界, 色界, 無色界, 無垢, 無得無果, 無知, 色, 受, 想, 行, 識, 般若波羅蜜, 薩婆若, 須菩提, 畢竟淨, 菩薩, 此岸, 彼岸, 中流, 名相, 著, 善男子, 善女人, 空, 過去法, 未來法, 現在法, 初發心菩薩, 福德, 釋提桓因, 憍尸迦, 阿耨多羅三藐三菩提, 心性, 諸法實相, 迴向, 無漏法, 緣, 無作法, 如來, 法性, 無二無三, 不可思議, 作者不可得, 行般若波羅蜜, 須陀洹果, 斯陀含果, 阿那含果, 阿羅漢果, 辟支佛道, 無礙薩婆若, 幻所化人, 眾生, 大莊嚴, 精進彼岸, 勇健, 比丘, 無有法生, 無有法滅, 修習, 四天王天, 娑婆世界主, 諸梵天王, 彌勒菩薩, 色縛, 色解, 虛空, 閻浮提, 珍寶, 不可得, 無染, 法輪轉, 摩訶波羅蜜, 無轉無還, 無相, 無作, 無聽者, 無受者, 無證者, 福田, 無邊波羅蜜, 正波羅蜜, 平等, 離波羅蜜, 不可破波羅蜜, 無處波羅蜜, 無形無名, 無去波羅蜜, 無來, 無奪波羅蜜, 盡波羅蜜, 無生波羅蜜, 無作波羅蜜, 不出波羅蜜, 不至波羅蜜, 無退沒, 無垢波羅蜜, 煩惱, 無污波羅蜜, 不滅波羅蜜, 前際, 幻波羅蜜, 夢波羅蜜, 意識平等, 不戲波羅蜜, 戲, 不念波羅蜜, 不動波羅蜜, 法性常住, 離欲波羅蜜, 不虛誑, 不起波羅蜜, 無分別, 寂滅波羅蜜, 無煩惱波羅蜜, 無眾生波羅蜜, 眾生際, 不斷波羅蜜, 無二邊波羅蜜, 不異波羅蜜, 不和合, 不著波羅蜜, 聲聞, 辟支佛地, 不分別波羅蜜, 無量波羅蜜, 虛空波羅蜜, 不生波羅蜜, 無常波羅蜜, 苦波羅蜜, 無我波羅蜜, 空波羅蜜, 無相波羅蜜, 力波羅蜜, 無量佛法波羅蜜, 無所畏波羅蜜, 如波羅蜜, 自然波羅蜜, 摩訶般若波羅蜜不可思議品, 供養諸佛, 阿毘跋致, 誹謗拒逆, 清淨心, 薩婆若智, 受記, 大乘心, 善根, 法要, 佛十力, 四無所畏, 十八不共法, 無處所行, 惡魔, 留難, 佛神力, 護念, 佛眼, 如來滅後, 五百歲, 魔王, 法, 六波羅蜜, 佛, 菩薩摩訶薩
般若波羅蜜經,世尊,善男子,善女人,功德,留難,魔事,菩薩,行者,受記,生處,菩薩道,薩婆若,世間,出世間法,聲聞,辟支佛,轉輪王,惡魔,供養事,方便,聽法者,說法者,信樂心,誦習,三惡道,地獄,畜生,餓鬼,涅槃,欲界,五欲快樂,色界,禪定快樂,無色界,寂滅定樂,三界,無常苦空,壞敗之相,須陀洹果,斯陀含果,阿那含果,阿羅漢果,後身,徒眾,檀越,未受記,疑,實際,摩訶般若波羅蜜,道意,少智,少信,大法,佛力,諸佛,十方現在諸佛,阿耨多羅三藐三菩提,五陰,不壞相,空,無相,無作,無生,無滅,無依,眾生,亂心攝心,法相,心盡相,染心,恚心,癡心,離染心,離恚心,離癡心,薩婆若智,廣心,不增不廣,離離相,大心,無來無去無住,無量心,寂滅,無所依止,虛空無量,不可見心,無相義,不現心,五眼,諸出沒,如如,一切法如,須陀洹果如,斯陀含果如,阿那含果如,阿羅漢果如,辟支佛道如,如來如,一如,無二無別,諸佛智慧,無礙,般若波羅蜜行相,諸佛行處,法供養,知恩知報恩者,智慧,無知者無見者,一切法空,無所依,不見色,不見識,真見世間,世間空,世間離相,世間淨相,世間寂滅,大事故,不可思議事,不可稱事,不可量事,無等等事故,如來法,佛法,自然法,一切智人法,廣大,不可籌量,不可稱,不可量,無與如來等者,諸法實相,無心無心數法,識業,過諸量,比丘,比丘尼,不受一切法,漏盡心得解脫,優婆塞,優婆夷,法眼淨,無生法忍,賢劫,成佛,聲聞地,辟支佛地,佛事,成辦其事,阿羅漢法,信行,供養諸佛,兜率天上,彌勒菩薩,法師,大乘,二地,彼岸,中道退沒,方便所護
般若波羅蜜,新發意菩薩,善知識,布施,迴向,阿耨多羅三藐三菩提,貪著,色,受,想,行,識,薩婆若,持戒,忍辱,精進,禪定,智慧,聲聞,辟支佛道,菩薩,發阿耨多羅三藐三菩提心,生死,苦惱,眾生,生法,老病死法,憂悲苦惱法,不著,縛,解,不生不滅,一切法,究竟,分別,寂滅,涅槃,前際後際,實相,須陀洹果,斯陀含果,阿那含果,阿羅漢果,空,不來不去,無相,無作,無生,無所有,無量,無邊,無我,善根,滅欲恚癡性,莊嚴,滅度,無量無邊,墮二地,聲聞地,辟支佛地,無修法,無所修,無修者,無決定法,虛空,無著,阿惟越致菩薩,不驚不怖,不沒不退,菩提,無色,無智,無慧,無道,無得,無果,無作者,無方,無趣,無住,檀波羅蜜,尸波羅蜜,羼提波羅蜜,毘梨耶波羅蜜,禪那波羅蜜,欲界,色界,諸天子,諸法相,佛,世尊,如來,不壞,不二,無二無別,佛力,無上菩提,等心,慈心,謙下心,安隱心,不瞋心,不惱心,不戲弄心,凡夫地,如來地,外道,沙門,婆羅門,三惡道,殺生,偷劫,邪婬,妄語,兩舌,惡口,無益語,貪嫉,瞋惱,邪見,十善道,十不善道,法施,威儀具足,諂曲欺誑,慳嫉,惡魔,八大地獄,授阿惟越致記,地獄,天上,惡道,魔事,阿羅漢,現前證諸法相,必至薩婆若,生死行,盡苦取涅槃,梵行,佛道,阿羅漢地,波羅蜜,薩婆若念,堅固心,不動心,不轉心,初禪,第二第三第四禪,欲界法,功德,金剛神,非人,諸根具足,賢善行,呪術,淨命,出家,清淨佛國,中國,邊地,疑,須陀洹,逆罪,悔懼,天、人、阿修羅,不可壞智慧,佛身,護法,正法,受記,漏盡心得解脫,無生法忍,比丘,比丘尼,漏盡,心得解脫,法眼淨,天人,戒品,定品,慧品,解脫品,解脫知見品,取相,三乘人,菩薩乘,差別,不異心,居家,厭離,怖畏,邪命,非法,如實,無起,無作
三藏,功德,須菩提,世尊,阿毘跋致,菩薩,恒河沙,般若波羅蜜,空義,無相,無作,無起,無生,無滅,無所有,寂滅,涅槃義,一切法,色,受,想,行,識,如如,方便,退轉,劫數,生死,布施,須陀洹,斯陀含,阿那含,阿羅漢,辟支佛,諸佛,福,聲聞,辟支佛地,菩薩位,阿耨多羅三藐三菩提,持戒,忍辱,精進,禪定,智慧,法施,薩婆若,三十七品,迴向,作起法,阿僧祇,如來,實相,檀波羅蜜,尸羅波羅蜜,羼提波羅蜜,毘梨耶波羅蜜,禪波羅蜜,菩提,善根,因緣法,三解脫門,空三昧,不盡漏,助道法,結使,魔,空解脫門,無相解脫門,無作解脫門,第一實際,慈三昧,悲三昧,喜三昧,捨三昧,三界,邪見,過去佛,阿毘跋致地,阿修羅,摩訶薩,三惡道,星宿劫,阿閦佛土,梵行,燃燈佛,授記,助結使法,助魔者,常想,樂想,淨想,我想,顛倒,菩提心,善知識,魔事,阿練若法,乞食,納衣,一坐食,節量食,常坐不臥,隨敷坐,少欲知足,遠離,頭陀功德,四重禁,沙門,釋種子,五逆,增上慢,旃陀羅,比丘,背捨三昧,諸神通力,八功德水,忉利天上
三藏,菩提,佛,須菩提,菩薩,阿耨多羅三藐三菩提,善知識,世尊,般若波羅蜜,六波羅蜜,薩婆若,四攝法,布施,愛語,利益,同事,究竟道,一切法,無礙相,離相,空相,眾生,我我所,生死,色,受,想,行,識,天人阿修羅,聲聞,辟支佛,迴向,福田,菩薩摩訶薩,慧,大悲,天眼,無間罪,諸難,不退轉,供養,正道,慧眼,無生法忍,受記,佛無上智,大智,自然智,一切智,如來智,釋提桓因,畢竟離,書寫受持讀誦,十善道,比丘,阿毘跋致,檀波羅蜜,尸羅波羅蜜,羼提波羅蜜,毘梨耶波羅蜜,禪波羅蜜,一切種智,道場,四天王,鉢,阿難,三千大千世界,諸魔,中道,實際,聲聞辟支佛地,惡魔,煩惱,地獄餓鬼畜生,神力,顛倒心,劫,莊嚴,出罪法,謙下,深心,瞋礙,盡學,無生學,離學,滅學,如來,佛地十力,四無所畏,十八不共法,彼岸,魔民,大慈,三轉十二相法輪,度眾生,不斷佛種,甘露門,凡夫,調御,邊地,旃陀羅,邪婬,妄語,兩舌,惡口,無益語,貪嫉,瞋惱,邪見,邪命活,破戒,長壽天,方便,入禪,本淨相,精進,轉輪王,聲聞乘,辟支佛乘,慳心,懈怠心,散亂心,愚癡心,六十二見,身見,命根,師子吼,佛法,分別,曼陀羅華,無漏法,初發心菩薩,一生補處,須彌山王,魔著,魔眷屬,佛法僧,善根,惡道,幻,經
小品般若波羅蜜經,三藏,菩薩,世尊,般若波羅蜜,甚深義,聲聞地,辟支佛地,不可得,不驚不怖不沒不退,阿耨多羅三藐三菩提,虛空,無分別,幻所化人,如來,堅固義,欲界諸天子,發阿耨多羅三藐三菩提心,實際,無量無邊眾生,發大莊嚴,畢竟不可得,虛空離,眾生亦離,色亦離,受、想、行、識亦離,色,受,想,行,識,一切法亦離,一切法,空故,無所有故,釋提桓因,梵天王,眾生主自在天王,梵世諸天,梵輔天,梵眾天,大梵天,光天,少光天,無量光天,光音天,淨天,少淨天,無量淨天,遍淨天,無陰天,福生天,廣果天,無廣天,無熱天,妙見天,善見天,無小天上諸天,阿僧祇世界,諸佛,阿毘跋致,恒河沙等世界眾生,惡魔,觀一切法空,不捨一切眾生,諸佛所念,善男子,佛道,無救眾生,無舍眾生,無依眾生,無洲眾生,無究竟道眾生,無歸眾生,無明眾生,無趣眾生,比丘僧,實相菩薩,阿閦佛,梵行,阿毘跋致菩薩,信解一切法無生,無生法忍,阿毘跋致地,一切法寂滅相,佛地,菩薩行,薩婆若,如,憍尸迦,一切法空,無所礙,無所得行,諸力,無所畏,聲聞、辟支佛所行,忉利諸天子,天曼陀羅華,比丘,偏袒右肩,右膝著地,合掌,阿難,諸佛常法,梵天,星宿劫,劫,出家,如來行,兜率天上,人間,示教利喜,種諸善根,弟子,現在佛所,供養諸佛,阿羅漢,善根不虛,囑累,小乘法,小乘人,三千大千世界眾生,證阿羅漢,功德,六波羅蜜,檀波羅蜜,尸羅波羅蜜,羼提波羅蜜,毘梨耶波羅蜜,禪波羅蜜,福德,一漏刻頃,須臾,退轉者,四眾,比丘尼,優婆塞,優婆夷,天、龍、夜叉、乾闥婆、阿修羅、迦樓羅、緊那羅、摩睺羅伽、人非人等,天,龍,夜叉,乾闥婆,阿修羅,迦樓羅,緊那羅,摩睺羅伽,人非人,佛神力,國界嚴飾,諸漏已盡,無復煩惱,心得自在,菩薩摩訶薩,法不見法,法不知法,無作者,無貪著,不可思議,無受者,一切法彼岸,無礙知見,薩婆若智,十二因緣,離於二邊,不共之法,不墮聲聞、辟支佛地,疾近薩婆若,不退轉者,方便之力,方便力,三惡道,香象菩薩,比丘眾,無壞,但假名字,以言說故有,無處所,虛假為用,無量,無相,通達相,本來清淨,無言說,同於滅,涅槃,不來不去,無所生,無彼我,賢聖畢竟清淨,捨一切檐,無形無處,自性無故,無熱,無染無離,性清淨,無繫著,菩提覺,佛慧,空,無作,慈心,梵相,慈相,無過無恚,地,水,火,風,三昧,佛法,法,心心數法,諸心所行,善法,不善法,師子吼,須彌山,離集善相,離和合法
小品般若波羅蜜經,三藏,薩陀波崙品,佛,須菩提,菩薩,般若波羅蜜,雷音威王佛,菩薩道,世尊,利養,五蓋,慳嫉,內法外法,色受想行識,佛法,生死,空,無相,無作法,諸相,有見,眾生見,人見,我見,惡知識,善知識,無生無滅法,法師,大師,阿耨多羅三藐三菩提,諸佛,無佛世界,魔事,五欲,善根,諸法實相,無垢,一切法性空,無我,無眾生,如幻,如夢,如響,如影,如炎,由旬,眾香城,七寶,多羅之樹,三千大千世界,曇無竭菩薩,婇女,法座,聽者,受者,持者,誦者,書者,正觀者,如說行者,惡道,不退轉,陀羅尼,神通力,過去諸佛,地獄,清淨之法,三昧門,諸法性觀三昧,諸法不可得三昧,破諸法無明三昧,諸法不異三昧,諸法不壞三昧,諸法照明三昧,諸法離闇三昧,諸法不相續三昧,諸法性不可得三昧,散華三昧,不受諸身三昧,離幻三昧,如鏡像三昧,一切眾生語言三昧,一切眾生歡喜三昧,隨一切善三昧,種種語言字句莊嚴三昧,無畏三昧,性常默然三昧,無礙解脫三昧,離塵垢三昧,名字語言莊嚴三昧,一切見三昧,一切無礙際三昧,如虛空三昧,如金剛三昧,無負三昧,得勝三昧,轉眼三昧,畢法性三昧,得安隱三昧,師子吼三昧,勝一切眾生三昧,離垢三昧,無垢淨三昧,華莊嚴三昧,隨堅實三昧,出諸法得力無畏三昧,通達諸法三昧,壞一切法印三昧,無差別見三昧,離一切見三昧,離一切闇三昧,離一切相三昧,離一切著三昧,離一切懈怠三昧,深法照明三昧,善高三昧,不可奪三昧,破魔三昧,生光明三昧,見諸佛三昧,阿毘跋致地,金色之身,三十二相,大光明,不可思議智慧,無上三昧,無上智慧,聲聞,辟支佛,信樂,劫,釋提桓因,十力,四無所畏,四無礙智,十八不共法,六神通,清淨,戒品,定品,智慧品,解脫品,解脫知見品,佛無上智慧,無上法寶,恒河沙身,福田,無來無去,無生無滅,無生法忍,那由他,遠塵離垢,法眼淨,無疑悔,曼陀羅華,阿僧祇劫,一切捨法,比丘,第三禪,禪,文字章句相貌,阿難,如來,弟子,滅度,斷種人,彌勒,舍利弗,目揵連,摩訶迦葉,聲聞眾,諸天,阿修羅,歡喜信受,摩訶般若波羅蜜曇無竭品,摩訶般若波羅蜜囑累品,摩訶般若波羅蜜,諸法等三昧,諸法離三昧,諸法不動三昧,諸法無念三昧,諸法無畏三昧,諸法一味三昧,諸法無邊三昧,諸法無生三昧,諸法無滅三昧,虛空無邊三昧,大海無邊三昧,須彌山莊嚴三昧,如虛空無分別三昧,色無邊三昧,受想行識無邊三昧,地種無邊三昧,水種火種風種空種無邊三昧,如金剛等三昧,諸法無等三昧,諸法無所作三昧,諸法不可思議三昧,須彌山,金剛
"""

set1_label = "T 224"
set2_label = "T 225"
set3_label = "T 227"

def csv_to_set(csv_string: str) -> set[str]:
    """
    Transforms a comma-separated string into a set of unique strings.
    """
    if not csv_string:
        return set()
    items: list[str] = csv_string.split(',')
    # Strip whitespace and 3. Filter out empty strings
    cleaned_items: list[str] = [item.strip() for item in items if item.strip()]
    return set(cleaned_items)

def intersection_area(r1, r2, d):
    """
    Calculate the intersection area of two circles.
    https://mathworld.wolfram.com/Circle-CircleIntersection.html
    """
    if d <= 0:
        return math.pi * min(r1, r2)**2
    if d >= r1 + r2:
        return 0
    if d <= abs(r1 - r2):
        return math.pi * min(r1, r2)**2

    d2 = d**2
    r1_2 = r1**2
    r2_2 = r2**2
    
    term1 = r1_2 * math.acos((d2 + r1_2 - r2_2) / (2 * d * r1))
    term2 = r2_2 * math.acos((d2 + r2_2 - r1_2) / (2 * d * r2))
    term3 = 0.5 * math.sqrt((-d + r1 + r2) * (d + r1 - r2) * (d - r1 + r2) * (d + r1 + r2))
    
    return term1 + term2 - term3

def find_distance(r1, r2, target_area):
    """
    Find the distance between circle centers for a target intersection area
    using the bisection method.
    """
    if target_area <= 1e-9:
        return r1 + r2
    
    min_possible_intersection_area = math.pi * min(r1, r2)**2
    if target_area >= min_possible_intersection_area:
        # This happens when one circle is almost completely inside another
        # The distance should be small
        return abs(r1-r2)

    low = abs(r1 - r2)
    high = r1 + r2
    
    for _ in range(100): # 100 iterations for precision
        d = (low + high) / 2
        area = intersection_area(r1, r2, d)
        if abs(area - target_area) < 1e-9:
            break
        if area > target_area:
            low = d
        else:
            high = d
    return d

# Define the sets
#set1 = {'a', 'b', 'c'}
#set2 = {'c', 'd', 'e', 'f'}
#set3 = {'c', 'f', 'g', 'h', 'i', 'j', 'k'}
set1 = csv_to_set(t224)
set2 = csv_to_set(t225)
set3 = csv_to_set(t227)

# Calculate the sizes of the sets and intersections
size1 = len(set1)
size2 = len(set2)
size3 = len(set3)
size12 = len(set1.intersection(set2))
size13 = len(set1.intersection(set3))
size23 = len(set2.intersection(set3))
size123 = len(set1.intersection(set2).intersection(set3))
print(f"Intersection of all: {set1.intersection(set2).intersection(set3)}")

s1_only = size1 - size12 - size13 + size123
s2_only = size2 - size12 - size23 + size123
s3_only = size3 - size13 - size23 + size123
s12_only = size12 - size123
s13_only = size13 - size123
s23_only = size23 - size123

# Calculate radii and target intersection areas
# Area of circle will be proportional to set size
scaling_factor = 4
r1 = scaling_factor * math.sqrt(size1)
r2 = scaling_factor * math.sqrt(size2)
r3 = scaling_factor * math.sqrt(size3)

# The area of a circle is pi * r^2. The scaling constant k for area is pi * scaling_factor^2
k_area = math.pi * scaling_factor**2
target_area12 = k_area * size12
target_area13 = k_area * size13
target_area23 = k_area * size23

# Find distances between circle centers
d12 = find_distance(r1, r2, target_area12)
d13 = find_distance(r1, r3, target_area13)
d23 = find_distance(r2, r3, target_area23)

# It's not always possible to satisfy all intersection areas perfectly with circles.
# We must check if the distances can form a triangle.
# If not, we have to adjust them. This is a hard problem.
# For now, we'll proceed assuming they form a valid triangle.
if not (d12 + d13 >= d23 and d12 + d23 >= d13 and d13 + d23 >= d12):
    print("Warning: The calculated distances do not form a valid triangle. The Venn diagram will be distorted.")
    # A simple adjustment to make it a triangle, though this breaks the area mapping for one intersection.
    if d12 + d13 < d23:
        d23 = d12 + d13 - 1e-6
    elif d12 + d23 < d13:
        d13 = d12 + d23 - 1e-6
    elif d13 + d23 < d12:
        d12 = d13 + d23 - 1e-6

# Calculate circle center coordinates
c1 = (0, 0)
c2 = (d12, 0)
# Using law of cosines to find the position of the third circle
x3 = (d12**2 + d13**2 - d23**2) / (2 * d12) if d12 > 1e-9 else 0
y3_sq = d13**2 - x3**2
y3 = math.sqrt(y3_sq) if y3_sq > 0 else 0
c3 = (x3, y3)

# Center the diagram
centroid_x = (c1[0] + c2[0] + c3[0]) / 3
centroid_y = (c1[1] + c2[1] + c3[1]) / 3
view_center_x = 250
view_center_y = 170

c1 = (c1[0] - centroid_x + view_center_x, c1[1] - centroid_y + view_center_y)
c2 = (c2[0] - centroid_x + view_center_x, c2[1] - centroid_y + view_center_y)
c3 = (c3[0] - centroid_x + view_center_x, c3[1] - centroid_y + view_center_y)

# Load the Vega template
template_path = '/Users/alexamies/silk_road_corpus/drawings/venn3_template.vg.json'
with open(template_path, 'r') as f:
    vega_spec = json.load(f)

# Update circles
vega_spec['data'][0]['values'][0].update({'radius': r1, 'x': c1[0], 'y': c1[1], 'set': f"{set1_label} ({size1})"})
vega_spec['data'][0]['values'][1].update({'radius': r2, 'x': c2[0], 'y': c2[1], 'set': f"{set2_label} ({size2})"})
vega_spec['data'][0]['values'][2].update({'radius': r3, 'x': c3[0], 'y': c3[1], 'set': f"{set3_label} ({size3})"})

# --- Approximate Label Positions ---
# This is a heuristic and may not be perfect for all configurations.
# s1_only
l_s1_x = c1[0] - r1/2 if c1[0] < min(c2[0], c3[0]) else c1[0] + r1/2
l_s1_y = c1[1]
# s2_only
l_s2_x = c2[0] + r2/2 if c2[0] > max(c1[0], c3[0]) else c2[0] - r2/2
l_s2_y = c2[1]
# s3_only
l_s3_x = c3[0]
l_s3_y = c3[1] + r3/2 if c3[1] > max(c1[1], c2[1]) else c3[1] - r3/2

# Midpoints for intersections
m12 = ((c1[0]+c2[0])/2, (c1[1]+c2[1])/2)
m13 = ((c1[0]+c3[0])/2, (c1[1]+c3[1])/2)
m23 = ((c2[0]+c3[0])/2, (c2[1]+c3[1])/2)
m123 = ((c1[0]+c2[0]+c3[0])/3, (c1[1]+c2[1]+c3[1])/3)

# s12_only: from m12 move away from c3
l_s12_x = m12[0] + (m12[0] - c3[0]) * 0.2
l_s12_y = m12[1] + (m12[1] - c3[1]) * 0.2
# s13_only: from m13 move away from c2
l_s13_x = m13[0] + (m13[0] - c2[0]) * 0.2
l_s13_y = m13[1] + (m13[1] - c2[1]) * 0.2
# s23_only: from m23 move away from c1
l_s23_x = m23[0] + (m23[0] - c1[0]) * 0.2
l_s23_y = m23[1] + (m23[1] - c1[1]) * 0.2

# s123
l_s123_x = m123[0]
l_s123_y = m123[1]

labels = [
    {"label": str(s1_only), "x": l_s1_x, "y": l_s1_y},
    {"label": str(s2_only), "x": l_s2_x, "y": l_s2_y},
    {"label": str(s3_only), "x": l_s3_x, "y": l_s3_y},
    {"label": str(s12_only), "x": l_s12_x, "y": l_s12_y},
    {"label": str(s13_only), "x": l_s13_x, "y": l_s13_y},
    {"label": str(s23_only), "x": l_s23_x, "y": l_s23_y},
    {"label": str(size123), "x": l_s123_x, "y": l_s123_y}
]
vega_spec['data'][1]['values'] = labels

# Write the generated Vega spec to a new file
output_path = '/Users/alexamies/silk_road_corpus/drawings/venn3_generated.vg.json'
with open(output_path, 'w') as f:
    json.dump(vega_spec, f, indent=2)

print(f"Generated Venn diagram specification at: {output_path}")
